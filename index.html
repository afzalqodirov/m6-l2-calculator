<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <title>Calculator</title>
</head>
<body>
    <div class="container-sm my-5 p-5 text-center" style="background-color: rgb(160, 160, 200); border-radius: 20px; max-width: 400px;">
        <div class="container" style="width: 250px;">
        <input type="text" name="inputplace" value="" id="inputplace" style="text-align: right;" autofocus><br><br>
        <div class="row my-2">
            <div class="col"><button onclick="calc('C')" class="btn btn-light">C</button></div>
            <div class="col"><button onclick="calc('+-')" class="btn btn-light">+-</button></div>
            <div class="col"><button onclick="calc('%')" class="btn btn-light">%</button></div>
            <div class="col"><button onclick="calc('+')" class="btn btn-light">+</button></div>
        </div>
        <div class="row my-2">
            <div class="col"><button onclick="calc(7)" class="btn btn-light">7</button></div>
            <div class="col"><button onclick="calc(8)" class="btn btn-light">8</button></div>
            <div class="col"><button onclick="calc(9)" class="btn btn-light">9</button></div>
            <div class="col"><button onclick="calc('-')" class="btn btn-light">-</button></div>
        </div>
        <div class="row my-2">
            <div class="col"><button onclick="calc(4)" class="btn btn-light">4</button></div>
            <div class="col"><button onclick="calc(5)" class="btn btn-light">5</button></div>
            <div class="col"><button onclick="calc(6)" class="btn btn-light">6</button></div>
            <div class="col"><button onclick="calc('*')" class="btn btn-light">*</button></div>
        </div>
        <div class="row my-2">
            <div class="col"><button onclick="calc(1)" class="btn btn-light">1</button></div>
            <div class="col"><button onclick="calc(2)" class="btn btn-light">2</button></div>
            <div class="col"><button onclick="calc(3)" class="btn btn-light">3</button></div>
            <div class="col"><button onclick="calc('/')" class="btn btn-light">/</button></div>
        </div>
        <div class="row my-2">
            <div class="col"><button onclick="calc(0)" class="btn btn-light">0</button></div>
            <div class="col"></div>
            <div class="col"><button onclick="calc('.')" class="btn btn-light">.</button></div>
            <div class="col"><button onclick="calc('=')" class="btn btn-light">=</button></div>
        </div></div>
    </div>
    <script>
        document.getElementById('inputplace').addEventListener("keypress", function (event) {
            if (event.key == 'Enter'){event.preventDefault();calc('=')}
            else if ('+-*/.'.includes(event.key)){event.preventDefault();calc(event.key)}
            else if (event.key <= '9' && event.key >= '0'){}
            else if (event.key == 'c' || event.key == 'C'){event.preventDefault(); calc('C')}
            else {event.preventDefault();}})
        function calc(txt){
            let tmp = document.getElementById('inputplace').value;
            if (txt != 'C' && txt != '='){
                if (txt == '+-'){document.getElementById('inputplace').value = '-(' + tmp + ')'}
                else if ('+-*/'.includes(txt) && '+-*/'.includes(tmp.at(-1))){document.getElementById('inputplace').value = tmp.slice(0,-1) + txt}
                else if (txt == '.') {if (tmp.at(-1) != '.'){document.getElementById('inputplace').value += '.'}}
                else{document.getElementById('inputplace').value += txt}}
            else if (txt == 'C'){document.getElementById('inputplace').value = '';}
            else {
                try{document.getElementById('inputplace').value = eval(tmp);}
                catch {document.getElementById('inputplace').value = 'Error'; setTimeout(() => document.getElementById('inputplace').value = '', 1500);}}}
    </script>
</body>
</html>